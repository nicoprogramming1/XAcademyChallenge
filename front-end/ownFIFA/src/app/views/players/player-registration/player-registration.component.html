<div class="container d-flex flex-column align-items-center">


    <div class="title">
        <app-title-h1 [title]="title"></app-title-h1>
    </div>

    <div class="card p-4 shadow-lg form-card">
        <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
            <div><span class="obligatorios">Los campos marcados con (*) son obligatorios</span></div>
                <hr class="my-4">

            <div class="form-group mb-3">
                <label for="longName">Nombre y apellido: *</label>
                <input class="form-control custom-input" id="longName" formControlName="longName">
                <div class="text-danger">{{showNameErrors()}}</div>
            </div>

            <div class="form-group mb-3">
                <label for="age">Edad: *</label>
                <input type="number" class="form-control custom-input" id="age" formControlName="age">
                <div class="text-danger">{{showAgeErrors()}}</div>
            </div>

            <div formArrayName="playerPositions" class="mb-3">
                <span class="positions">Posiciones: *</span>
                <div class="checkbox-container">
                    @for(position of playerPositions; track position) {
                        <div class="form-check checkbox-item">
                            <input class="form-check-input" type="checkbox" [value]="position" (change)="onCheckboxChange($event)">
                            <label class="form-check-label">{{ position }}</label>
                        </div>
                    }
                </div>
                <div class="text-danger">{{showPlayerPositionsErrors()}}</div>
            </div>
            

            <div class="form-group mb-3">
                <label for="playerFaceUrl">Rostro: *</label>
                <select class="form-select custom-input" id="playerFaceUrl" formControlName="playerFaceUrl">
                    @for(face of playerFaceUrl; track face) {
                        <option [value]="face">{{ face }}</option>
                    }
                </select>
                <div class="text-danger">{{showPlayerFaceUrlErrors()}}</div>
            </div>

            <div class="form-group mb-3">
                <label for="clubName">Club:</label>
                <input class="form-control custom-input" id="clubName" formControlName="clubName">
            </div>

            <div class="form-group mb-3">
                <label for="nationalityName">Nacionalidad:</label>
                <input class="form-control custom-input" id="nationalityName" formControlName="nationalityName">
            </div>

            <div class="form-group mb-3">
                <label for="preferredFoot">Pie Preferido:</label>
                <select class="form-select custom-input" id="preferredFoot" formControlName="preferredFoot">
                    @for(foot of preferredFoot; track foot) {
                        <option [value]="foot">{{ foot }}</option>
                    }
                </select>
            </div>

            <div class="form-group mb-3">
                <label for="bodyType">Tipo de cuerpo:</label>
                <select class="form-select custom-input" id="bodyType" formControlName="bodyType">
                    @for(bodyType of bodyType; track bodyType) {
                        <option [value]="bodyType">{{ bodyType }}</option>
                    }
                </select>
            </div>

            <div class="form-group mb-3">
                <label for="heightCm">Altura (cm):</label>
                <input type="number" class="form-control custom-input" id="heightCm" formControlName="heightCm">
                <div class="text-danger">{{showHeightCmErrors()}}</div>
            </div>

            <div class="form-group mb-3">
                <label for="weightKg">Peso (kg):</label>
                <input type="number" class="form-control custom-input" id="weightKg" formControlName="weightKg">
                <div class="text-danger">{{showWeightKgErrors()}}</div>
            </div>

            <div class="form-group mb-3">
                <label for="potential">Potencial: *</label>
                <input type="number" class="form-control custom-input" id="potential" formControlName="potential">
                <div class="text-danger">{{showPotentialErrors()}}</div>
            </div>

            <div class="form-group mb-3">
                <label for="overall">Nivel de skill general: *</label>
                <input type="number" class="form-control custom-input" id="overall" formControlName="overall">
                <div class="text-danger">{{showOverallErrors()}}</div>
            </div>

            <div class="form-group mb-3">
                <label for="fifaUpdate">FIFA Update: *</label>
                <select class="form-select custom-input" id="fifaUpdate" formControlName="fifaUpdate">
                    @for(fifaUpdate of fifaUpdate; track fifaUpdate) {
                        <option [value]="fifaUpdate">{{ fifaUpdate }}</option>
                    }
                </select>
                <div class="text-danger">{{showFifaUpdateErrors()}}</div>
            </div>

            <div class="form-group mb-3">
                <label for="fifaVersion">FIFA Version: *</label>
                <select class="form-select custom-input" id="fifaVersion" formControlName="fifaVersion" required>
                    @for(fifaVersion of fifaVersion; track fifaVersion) {
                        <option [value]="fifaVersion">{{ fifaVersion }}</option>
                    }
                </select>
                <div class="text-danger">{{showFifaVersionErrors()}}</div>
            </div>

            <div class="form-group mb-3">
                <label for="passing">Pase:</label>
                <input type="number" class="form-control custom-input" id="passing" formControlName="passing">
                <div class="text-danger">{{showPassingErrors()}}</div>
            </div>

            <div class="form-group mb-3">
                <label for="dribbling">Regateo:</label>
                <input type="number" class="form-control custom-input" id="dribbling" formControlName="dribbling">
                <div class="text-danger">{{showDribblingErrors()}}</div>
            </div>

            <div class="form-group mb-3">
                <label for="shooting">Disparo:</label>
                <input type="number" class="form-control custom-input" id="shooting" formControlName="shooting">
                <div class="text-danger">{{showShootingErrors()}}</div>
            </div>

            <div class="d-flex justify-content-start mt-4 gap-3">
                <button type="submit" class="btn btn-primary btn-lg">Registrar jugador</button>
                <button type="button" class="btn btn-secondary btn-lg" (click)="resetForm()">Reestablecer</button>
            </div>

            <div class="mt-3 text-center">
                @if(successMessage()) {
                    <div class="alert alert-success">{{ successMessage() }}</div>
                }
                @if(invalidForm) {
                    <span class="text-danger">Hay campos obligatorios que deben ser completados!</span>
                }
            </div>
        </form>
    </div>
</div>
